(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2f8c670"],{1148:function(t,e,r){"use strict";var s=r("a691"),n=r("1d80");t.exports=function(t){var e=String(n(this)),r="",i=s(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"408a":function(t,e,r){var s=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"99d1":function(t,e,r){t.exports=r.p+"img/credit-img--1.4ea68075.png"},b680:function(t,e,r){"use strict";var s=r("23e7"),n=r("a691"),i=r("408a"),a=r("1148"),c=r("d039"),o=1..toFixed,u=Math.floor,l=function(t,e,r){return 0===e?r:e%2===1?l(t,e-1,r*t):l(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},f=function(t,e,r){var s=-1,n=r;while(++s<6)n+=e*t[s],t[s]=n%1e7,n=u(n/1e7)},v=function(t,e){var r=6,s=0;while(--r>=0)s+=t[r],t[r]=u(s/e),s=s%e*1e7},m=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var s=String(t[e]);r=""===r?s:r+a.call("0",7-s.length)+s}return r},p=o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){o.call({})}));s({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,r,s,c,o=i(this),u=n(t),p=[0,0,0,0,0,0],h="",_="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(h="-",o=-o),o>1e-21)if(e=d(o*l(2,69,1))-69,r=e<0?o*l(2,-e,1):o/l(2,e,1),r*=4503599627370496,e=52-e,e>0){f(p,0,r),s=u;while(s>=7)f(p,1e7,0),s-=7;f(p,l(10,s,1),0),s=e-1;while(s>=23)v(p,1<<23),s-=23;v(p,1<<s),f(p,1,1),v(p,2),_=m(p)}else f(p,0,r),f(p,1<<-e,0),_=m(p)+a.call("0",u);return u>0?(c=_.length,_=h+(c<=u?"0."+a.call("0",u-c)+_:_.slice(0,c-u)+"."+_.slice(c-u))):_=h+_,_}})},cf2a:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.currentOrder?s("div",{staticClass:"credit-order-wrapper"},[s("div",{staticClass:"section-title section-title-row"},[s("div",{staticClass:"section-title-left"},[s("h1",[t._v("Кредитная программа «"+t._s(t.currentOrder.name)+"»")]),s("div",{staticClass:"credit-status",class:t.orderStatus(t.currentOrder.status).status,domProps:{innerHTML:t._s(t.orderStatus(t.currentOrder.status).title)}})]),s("div",{staticClass:"section-title-right"},[t.questionnaire.length>0?s("a",{staticClass:"download-link-2",attrs:{href:"#"},on:{click:function(e){return t.downloadFile()}}},[s("span",{staticClass:"icon-download-3"}),t._v("Скачать сформированную заявку")]):t._e()])]),s("div",{staticClass:"block"},[t._m(0),s("div",{staticClass:"block-content"},[s("div",{staticClass:"loans-issued-item no-hover"},[s("div",{staticClass:"load-issued-img"},[s("img",{attrs:{src:r("99d1"),alt:""}})]),s("div",{staticClass:"loans-issued-title"},[s("div",{staticClass:"h4"},[t._v("Кредит «"+t._s(t.currentOrder.name)+"»")]),s("p",[t._v(t._s(t.currentTarget))])]),s("div",{staticClass:"loans-price"},[t._v("Сумма "),s("span",[t._v(t._s(t._f("numberFilter")(t.currentOrder.sum)))])]),s("div",{staticClass:"loans-conditions"},[s("ul",[s("li",[t._v("Ставка: "),s("span",[t._v(t._s(t.currentOrder.insurance?t.currentTariff.rateWithInsurance:t.currentTariff.rateWithoutInsurance)+"%")])]),s("li",[t._v("Комиссия: "),s("span",[t._v(t._s(t.getCommission())+" руб.")])]),s("li",[t._v("Страхование жизни: "),s("span",[t._v(t._s(t.currentOrder.insurance?"Да":"Нет"))])]),s("li",[t._v("Срок: "),s("span",[t._v(t._s(t.currentOrder.term)+" "+t._s(t.$options.filters.declensionNumbers(t.currentOrder.term,["месяц","месяца","месяцев"])))])]),s("li",[t._v("Дата создания заявки: "),s("span",[t._v(t._s(t.parseDate(t.currentOrder.created_at)))])])])])])])]),s("div",{staticClass:"block"},[t._m(1),s("div",{staticClass:"block-content"},[s("div",{staticClass:"documents-list documents-list-with-links"},[s("ul",t._l(t.currentOrderDocs,(function(e){return s("li",{key:e.id},[s("div",{staticClass:"document-item"},[s("div",{staticClass:"document-item-title"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"document-files-list"},t._l(e.files,(function(e){return s("div",{key:e.id,staticClass:"files-item"},[s("span",{staticClass:"document-link",on:{click:function(r){return t.openDocViewModal(e)}}},[s("span",{staticClass:"icon-document"}),s("span",{staticClass:"document-link-main"},[s("span",{staticClass:"document-link-title"},[t._v(t._s(e.name)+"."+t._s(e.format))]),s("span",{staticClass:"document-link-size"},[t._v("("+t._s(t.convertSize(e.size))+")")])])])])})),0)]),s("div",{staticClass:"document-download-link"},[s("a",{staticClass:"download-link",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.downloadFile(e)}}},[t._v("Скачать")])])])})),0)])])]),t.viewDocumentModal?s("DocView",{attrs:{list:t.viewDocument,familiarizedBtn:!1},on:{"close-modal":function(e){t.viewDocumentModal=!1}}}):t._e(),t.docViewErrorModal?s("Popup",{attrs:{error:!0},on:{"close-modal":function(e){t.docViewErrorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[t._v("Документы формата DOC, DOCX, XLS и XLSX нельзя просматривать через браузер")])]),s("div",{staticClass:"popup-body"},[s("p",[t._v("Для просмотра данного документа Вам необходимо его скачать")]),s("button",{staticClass:"btn btn-lg btn-block close-modal",on:{click:function(e){return e.preventDefault(),t.downloadFile(t.downloadedDoc)}}},[t._v("Скачать")])])]):t._e()],1):t._e()},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-title"},[r("div",{staticClass:"h2"},[t._v("Информация о кредите")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-title"},[r("div",{staticClass:"h2"},[t._v("Документы")])])}],i=r("1da1"),a=r("5530"),c=(r("96cf"),r("4de4"),r("b680"),r("159b"),r("b0c0"),r("2f2e")),o=r("8acc"),u=r("2f62"),l=r("c1df"),d=r.n(l),f={components:{DocView:c["a"],Popup:o["a"]},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(u["c"])({currentOrder:function(t){return t.createOrder.orderFullInfo.order},questionnaire:function(t){return t.createOrder.neededToLoadFiles},currentOrderDocs:function(t){return t.orders.orderDocs},tariffs:function(t){return t.tariffs.tariffs}})),Object(u["b"])({targets:"getTarrifsTargets"})),{},{currentTariff:function(){var t=this;return this.tariffs.filter((function(e){return e.id===t.currentOrder.tariff_id}))[0]},currentTarget:function(){var t=this,e=this.targets.filter((function(e){return e.id===parseInt(t.currentOrder.purpose)}))[0];return e?e.title:""}}),data:function(){return{viewDocumentModal:!1,docViewErrorModal:!1,downloadedDoc:"",viewDocument:[]}},methods:{orderStatus:function(t){switch(t){case 1:return{title:"Новая заявка",status:"secondary"};case 2:return{title:"Отправлено в банк",status:"secondary"};case 3:return{title:"Ошибка отправки в Банк<br>(Свяжитесь с банком: 8 800 775-18-77)",status:"danger"};case 4:return{title:"Отправлено в банк",status:"secondary"};case 5:return{title:"Ошибка отправки в Банк<br>(Свяжитесь с банком: 8 800 775-18-77)",status:"danger"};case 6:return{title:"Рассматривается банком",status:"secondary"};case 7:return{title:"Отклонен",status:"danger"};case 8:return{title:"Дополнительные документы",status:"secondary"};case 9:return{title:"Одобрен",status:"secondary"};case 10:return{title:"Отклонен пользователем",status:"danger"};case 11:return{title:"Рассматривается банком",status:"warning"};case 12:return{title:"Рассматривается банком",status:"secondary"};case 13:return{title:"Подготовка документов",status:"warning"};case 14:return{title:"Подписание",status:"success"};case 15:return{title:"Идет обработка данных",status:"secondary"};case 16:return{title:"Ошибка отправки в Банк<br>(Свяжитесь с банком: 8 800 775-18-77)",status:"danger"};case 17:return{title:"Отправлено в банк",status:"success"};case 18:return{title:"Ошибка отправки в Банк<br>(Свяжитесь с банком: 8 800 775-18-77)",status:"danger"};case 19:return{title:"Проверка документов",status:"warning"};case 20:return{title:"Кредит выдан",status:"success"};default:return{title:"",status:""}}},convertSize:function(t){return t>999&&t<1e6?"".concat((t/1e3).toFixed(2),"КБ"):t>999999?"".concat((t/1e6).toFixed(2),"МБ"):"".concat(t.toFixed(2),"Б")},openDocViewModal:function(t){"pdf"===t.format||"jpg"===t.format||"png"===t.format?(this.viewDocument=t,this.viewDocumentModal=!0):(this.downloadedDoc=t,this.docViewErrorModal=!0)},closeViewDocModal:function(){this.checkDocsViews=[],this.checkDocs=!1},parseDate:function(t){return d()(t).format("DD.MM.YYYY")},downloadFile:function(t){var e=this;t.files?t.files.forEach((function(t){e.$store.dispatch("getFile",t.id).then((function(r){e.$store.dispatch("downloadFile",{content:r,name:t.name,format:t.format})}))})):this.$store.dispatch("getFile",t.id).then((function(r){e.$store.dispatch("downloadFile",{content:r,name:t.name,format:t.format})}))},getCommission:function(){var t=this.currentOrder.sum*this.currentTariff.commissionPercent/100;return t>this.currentTariff.minCommission?t:this.currentTariff.minCommission}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.$route.params.id,0!==t.tariffs.length){e.next=4;break}return e.next=4,t.$store.dispatch("getTariffs");case 4:return e.next=6,t.$store.dispatch("getCurrentOrder",r);case 6:return e.next=8,t.$store.dispatch("getDetailOrderDocs",r);case 8:case"end":return e.stop()}}),e)})))()}},v=f,m=r("2877"),p=Object(m["a"])(v,s,n,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-c2f8c670.f4652c63.js.map