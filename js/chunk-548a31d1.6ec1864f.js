(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-548a31d1"],{1148:function(t,e,n){"use strict";var r=n("a691"),i=n("1d80");t.exports=function(t){var e=String(i(this)),n="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},"408a":function(t,e,n){var r=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"6cb8":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentOrder?n("div",{staticClass:"received-loan-container"},[n("div",{staticClass:"go-back-link"},[n("router-link",{attrs:{to:"/orders"}},[n("span",{staticClass:"icon-arrow-left"}),t._v("Назад")])],1),n("div",{staticClass:"page-title"},[n("h1",[t._v("Кредит «"+t._s(t.currentOrder.name)+"»")])]),n("div",{staticClass:"block"},[t._m(0),n("div",{staticClass:"block-content"},[n("div",{staticClass:"received-load-info"},[n("ul",[n("li",[n("span",[t._v("Сумма кредита")]),n("span",[t._v(t._s(t.parsePay(t.currentOrder.sum))+" "),n("span",{staticClass:"icon-ruble"})])]),n("li",[n("span",[t._v("Срок кредита")]),n("span",[t._v(t._s(t.currentOrder.term)+" мес.")])]),n("li",[n("span",[t._v("Процентная ставка")]),t.currentTariff?n("span",[t._v(t._s(t.currentOrder.insurance?t.currentTariff.rateWithInsurance:t.currentTariff.rateWithoutInsurance)+" %")]):t._e()]),n("li",[n("span",[t._v("Дата создания")]),n("span",[t._v(t._s(t.getDate()))])])])])])]),n("div",{staticClass:"block"},[t._m(1),n("div",{staticClass:"block-content"},[n("div",{staticClass:"documents-list documents-list-with-links"},[n("ul",t._l(t.currentOrderDocs,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"document-item"},[n("div",{staticClass:"document-item-title"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"document-files-list"},t._l(e.files,(function(e){return n("div",{key:e.id,staticClass:"files-item"},[n("span",{staticClass:"document-link",on:{click:function(n){return t.openDocViewModal(e)}}},[n("span",{staticClass:"icon-document"}),n("span",{staticClass:"document-link-main"},[n("span",{staticClass:"document-link-title"},[t._v(t._s(e.name)+"."+t._s(e.format))]),n("span",{staticClass:"document-link-size"},[t._v("("+t._s(t.convertSize(e.size))+")")])])])])})),0)]),n("div",{staticClass:"document-download-link"},[n("a",{staticClass:"download-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.downloadFile(e)}}},[t._v("Скачать")])])])})),0)])])]),t.viewDocumentModal?n("DocView",{attrs:{list:t.viewDocument,familiarizedBtn:!1},on:{"close-modal":function(e){t.viewDocumentModal=!1}}}):t._e(),t.docViewErrorModal?n("Popup",{attrs:{error:!0},on:{"close-modal":function(e){t.docViewErrorModal=!1}}},[n("div",{staticClass:"popup-title"},[n("div",{staticClass:"h3"},[t._v("Документы формата DOC, DOCX, XLS и XLSX нельзя просматривать через браузер")])]),n("div",{staticClass:"popup-body"},[n("p",[t._v("Для просмотра данного документа Вам необходимо его скачать")]),n("button",{staticClass:"btn btn-lg btn-block close-modal",on:{click:function(e){return e.preventDefault(),t.downloadFile(t.downloadedDoc)}}},[t._v("Скачать")])])]):t._e()],1):t._e()},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block-title"},[n("div",{staticClass:"h2"},[t._v("Информация о кредите")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block-title"},[n("div",{staticClass:"h2"},[t._v("Документы")])])}],a=n("1da1"),o=n("5530"),c=(n("96cf"),n("4de4"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("b680"),n("159b"),n("b0c0"),n("c1df")),s=n.n(c),l=n("2f62"),d=n("2f2e"),u=n("8acc"),f={name:"ReceivedLoad",components:{DocView:d["a"],Popup:u["a"]},data:function(){return{receivedLoan:{id:1,title:"Быстрый!",startDate:"01.01.2021",endDate:"01.01.2024",sum:38e6,percent:"6.6%",paidOut:17e6},viewDocumentModal:!1,docViewErrorModal:!1,viewDocument:[],downloadedDoc:""}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])({tariffs:function(t){return t.tariffs.tariffs},currentOrder:function(t){return t.createOrder.orderFullInfo.order},currentOrderDocs:function(t){return t.orders.orderDocs}})),{},{currentTariff:function(){var t=this;return this.tariffs.filter((function(e){return e.id===t.currentOrder.tariff_id}))[0]}}),methods:{parsePay:function(t){return t.toString().replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1 ")},getDate:function(){var t=s()(this.currentOrder.created_at).format("DD.MM.YYYY");return t},openDocViewModal:function(t){"pdf"===t.format||"jpg"===t.format||"png"===t.format?(this.viewDocument=t,this.viewDocumentModal=!0):(this.downloadedDoc=t,this.docViewErrorModal=!0)},convertSize:function(t){return t>999&&t<1e6?"".concat((t/1e3).toFixed(2),"КБ"):t>999999?"".concat((t/1e6).toFixed(2),"МБ"):"".concat(t.toFixed(2),"Б")},downloadFile:function(t){var e=this;t.files?t.files.forEach((function(t){e.$store.dispatch("getFile",t.id).then((function(n){e.$store.dispatch("downloadFile",{content:n,name:t.name,format:t.format})}))})):this.$store.dispatch("getFile",t.id).then((function(n){e.$store.dispatch("downloadFile",{content:n,name:t.name,format:t.format})}))}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=parseInt(t.$route.params.id),e.next=3,t.$store.dispatch("getCurrentOrder",n);case 3:if(0!==t.tariffs.length){e.next=6;break}return e.next=6,t.$store.dispatch("getTariffs");case 6:return e.next=8,t.$store.dispatch("getDetailOrderDocs",n);case 8:case"end":return e.stop()}}),e)})))()}},v=f,p=n("2877"),m=Object(p["a"])(v,r,i,!1,null,null,null);e["default"]=m.exports},b680:function(t,e,n){"use strict";var r=n("23e7"),i=n("a691"),a=n("408a"),o=n("1148"),c=n("d039"),s=1..toFixed,l=Math.floor,d=function(t,e,n){return 0===e?n:e%2===1?d(t,e-1,n*t):d(t*t,e/2,n)},u=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=function(t,e,n){var r=-1,i=n;while(++r<6)i+=e*t[r],t[r]=i%1e7,i=l(i/1e7)},v=function(t,e){var n=6,r=0;while(--n>=0)r+=t[n],t[n]=l(r/e),r=r%e*1e7},p=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+o.call("0",7-r.length)+r}return n},m=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));r({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,n,r,c,s=a(this),l=i(t),m=[0,0,0,0,0,0],h="",w="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(h="-",s=-s),s>1e-21)if(e=u(s*d(2,69,1))-69,n=e<0?s*d(2,-e,1):s/d(2,e,1),n*=4503599627370496,e=52-e,e>0){f(m,0,n),r=l;while(r>=7)f(m,1e7,0),r-=7;f(m,d(10,r,1),0),r=e-1;while(r>=23)v(m,1<<23),r-=23;v(m,1<<r),f(m,1,1),v(m,2),w=p(m)}else f(m,0,n),f(m,1<<-e,0),w=p(m)+o.call("0",l);return l>0?(c=w.length,w=h+(c<=l?"0."+o.call("0",l-c)+w:w.slice(0,c-l)+"."+w.slice(c-l))):w=h+w,w}})}}]);
//# sourceMappingURL=chunk-548a31d1.6ec1864f.js.map