(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22bd7c5a"],{1276:function(e,t,s){"use strict";var r=s("d784"),i=s("44e7"),a=s("825a"),o=s("1d80"),n=s("4840"),d=s("8aa5"),l=s("50c4"),c=s("14c3"),u=s("9263"),p=s("9f7f"),v=p.UNSUPPORTED_Y,f=[].push,h=Math.min,m=4294967295;r("split",2,(function(e,t,s){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,s){var r=String(o(this)),a=void 0===s?m:s>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var n,d,l,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=new RegExp(e.source,p+"g");while(n=u.call(h,r)){if(d=h.lastIndex,d>v&&(c.push(r.slice(v,n.index)),n.length>1&&n.index<r.length&&f.apply(c,n.slice(1)),l=n[0].length,v=d,c.length>=a))break;h.lastIndex===n.index&&h.lastIndex++}return v===r.length?!l&&h.test("")||c.push(""):c.push(r.slice(v)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,s){return void 0===e&&0===s?[]:t.call(this,e,s)}:t,[function(t,s){var i=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,s):r.call(String(i),t,s)},function(e,i){var o=s(r,e,this,i,r!==t);if(o.done)return o.value;var u=a(e),p=String(this),f=n(u,RegExp),b=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"g":"y"),C=new f(v?"^(?:"+u.source+")":u,g),_=void 0===i?m:i>>>0;if(0===_)return[];if(0===p.length)return null===c(C,p)?[p]:[];var y=0,$=0,x=[];while($<p.length){C.lastIndex=v?0:$;var P,O=c(C,v?p.slice($):p);if(null===O||(P=h(l(C.lastIndex+(v?$:0)),p.length))===y)$=d(p,$,b);else{if(x.push(p.slice(y,$)),x.length===_)return x;for(var M=1;M<=O.length-1;M++)if(x.push(O[M]),x.length===_)return x;$=y=P}}return x.push(p.slice(y)),x}]}),v)},1331:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=i},"284a":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"founders-list"},e._l(e.founders,(function(t,r){return s("div",{key:r,staticClass:"founders-item"},[s("div",{staticClass:"founders-item-name"},[s("div",{staticClass:"h6"},[e._v(e._s(e.getPosition(t)))]),s("div",{staticClass:"h5"},[e._v(e._s(t.name))])]),s("div",{staticClass:"founders-item-proportions"},[t.share>0?[s("div",{staticClass:"h6"},[e._v("Доля")]),s("div",{staticClass:"h5"},[e._v(e._s((100*t.share).toFixed(0))+"%")])]:e._e()],2),s("div",{staticClass:"founders-item-status"},[1!==t.status?s("div",{class:["stick-no-bg",e.founderStatus(t.status).status]},[e._v(" "+e._s(e.founderStatus(t.status).title)+" ")]):e._e(),5!==t.status?[t.entity?s("form",{staticClass:"founders-accept-form",on:{submit:function(t){return t.preventDefault(),e.sendApproveMessage(r,"email")}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"founder.email"}],staticClass:"form-control no-label",class:e.validationClasses("email",r),attrs:{type:"tel",placeholder:"Email"},domProps:{value:t.email},on:{input:function(s){s.target.composing||e.$set(t,"email",s.target.value)}}}),s("button",{class:["btn btn-sm btn-border",{loading:t.load}],attrs:{disabled:t.load}},[e._v("Отправить ")])]):s("form",{staticClass:"founders-accept-form",on:{submit:function(t){return t.preventDefault(),e.sendApproveMessage(r,"phone")}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"founder.phone"},{name:"mask",rawName:"v-mask",value:"+7 ### ### ## ##",expression:"'+7 ### ### ## ##'"}],ref:"phone",refInFor:!0,staticClass:"form-control no-label",class:e.validationClasses("phone",r),attrs:{type:"tel",placeholder:"Телефон"},domProps:{value:t.phone},on:{input:[function(s){s.target.composing||e.$set(t,"phone",s.target.value)},function(s){return e.addCountryCode(s,t)}]}}),s("button",{class:["btn btn-sm btn-border",{loading:t.load}],attrs:{disabled:t.load}},[e._v("Отправить ")])])]:e._e()],2)])})),0)},i=[],a=s("5530"),o=s("b5ae"),n=s("2f62"),d={name:"FoundersList",validations:{founders:{required:o["required"],$each:{phone:{required:o["required"],minLength:Object(o["minLength"])(16)},email:{required:o["required"],email:o["email"]}}}},computed:Object(a["a"])({},Object(n["c"])({founders:function(e){return e.founders.founders}})),data:function(){return{validationsList:[],load:!1}},methods:{founderStatus:function(e){switch(e){case 2:return{title:"Отправлено",status:"info"};case 3:return{title:"Ожидание",status:"secondary"};case 4:return{title:"Отклонено",status:"danger"};case 5:return{title:"Согласовано",status:"success"};case 6:return{title:"Ошибка",status:"danger"}}},validationClasses:function(e,t){return"phone"==e?{invalid:!!this.$v.founders.$each.$iter["".concat(t)].phone.$error&&(!this.$v.founders.$each.$iter["".concat(t)].required||!this.$v.founders.$each.$iter["".concat(t)].minLength)}:"email"==e?{invalid:!!this.$v.founders.$each.$iter["".concat(t)].email.$error&&(!this.$v.founders.$each.$iter["".concat(t)].email.required||!this.$v.founders.$each.$iter["".concat(t)].email.email)}:void 0},sendApproveMessage:function(e,t){var s=this.$v.founders.$each.$iter["".concat(e)][t];s.$invalid?s.$touch():("phone"==t&&(this.founders[e].phone=this.$options.filters.phoneFilter(this.founders[e].phone)),this.$store.dispatch("sendMessageForFounder",this.founders[e]))},getPosition:function(e){return e.user?"Учредитель (".concat(e.user.position,")"):"Учредитель"},addCountryCode:function(e,t){var s=e.target.value;0!==s.indexOf("+7")&&"9"!==s.charAt(0)&&(t.phone="+7")}},mounted:function(){var e=this;this.$store.dispatch("getFounders"),this.$on("hook:beforedestroy",(function(){return clearInterval(e.updateFoundersList)}))}},l=d,c=s("2877"),u=Object(c["a"])(l,r,i,!1,null,"63a1cdae",null);t["a"]=u.exports},"2a12":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"maxLength",max:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e}))};t.default=i},3360:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.withParams)({type:"and"},(function(){for(var e=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return t.length>0&&t.reduce((function(t,s){return t&&s.apply(e,r)}),!0)}))};t.default=i},"3a54":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=i},"45b8":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.regex)("numeric",/^[0-9]*$/);t.default=i},"46bc":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"maxValue",max:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=i},"4fa1":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"create-order-wrapper"},[s("div",{staticClass:"go-back-link"},[s("router-link",{attrs:{to:"/"}},[s("span",{staticClass:"icon-arrow-left"}),e._v("На главную")])],1),s("div",{staticClass:"order-title"},[s("div",{staticClass:"order-title-left"},[s("h1",[e._v("Заявка на получение кредита «"+e._s(e.currentOrder.creditName)+"»")]),s("a",{attrs:{href:"#"}},[e._v("Подробнее")])]),s("div",{staticClass:"order-date"},[s("span",[e._v("Дата создания заявки: "+e._s(e.parseDate(e.currentOrder.created_at)))]),s("span",[e._v("Данные этого шага сохранены "),s("span",{staticStyle:{"white-space":"nowrap"}},[e._v(e._s(e.parseTime(e.currentOrder.updated_at)))])])])]),s("div",{staticClass:"order-wrapper"},[s("div",{staticClass:"order-steps"},[s("div",{class:["order-step",{active:e.orderStepPos>1}],on:{click:function(t){return e.nextGlobalStep(1)}}},[s("div",{staticClass:"order-step-number"},[e._v("1")]),s("div",{staticClass:"order-step-title"},[e._v("Данные о кредите")])]),s("div",{class:["order-step",{active:e.orderStepPos>8}],on:{click:function(t){return e.nextGlobalStep(8)}}},[s("div",{staticClass:"order-step-number"},[e._v("2")]),s("div",{staticClass:"order-step-title"},[e._v("Информация о клиенте")])]),s("div",{class:["order-step",{active:e.orderStepPos>9}],on:{click:function(t){return e.nextGlobalStep(9)}}},[s("div",{staticClass:"order-step-number"},[e._v("3")]),s("div",{staticClass:"order-step-title"},[e._v("Пакет документов")])]),s("div",{class:["order-step",{active:e.orderStepPos>10}],on:{click:function(t){return e.nextGlobalStep(10)}}},[s("div",{staticClass:"order-step-number"},[e._v("4")]),s("div",{staticClass:"order-step-title"},[e._v("Подписание")])])]),s("div",{staticClass:"order-steps-blocks"},[s("div",{staticClass:"order-steps-block"},[s("div",{class:["orders-stepline",{visible:e.orderStepPos>1&&e.orderStepPos<9}]},[s("span",{style:{width:e.steplineWidth+"%"}})]),s("div",{staticClass:"orders-substeps",class:{visible:e.orderStepPos>1&&e.orderStepPos<9}},[s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>2},on:{click:function(t){return e.nextGlobalStep(2)}}},[e._v("Информация о заемщике")]),e.currentOrder.orderFullInfo.company.ul?s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>3},on:{click:function(t){return e.nextGlobalStep(3)}}},[e._v("Юридический адрес")]):e._e(),s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>4},on:{click:function(t){return e.nextGlobalStep(4)}}},[e._v("Информация о руководителе")]),e.currentOrder.orderFullInfo.company.ul?s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>5},on:{click:function(t){return e.nextGlobalStep(5)}}},[e._v("Согласие учредителей")]):e._e(),s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>6},on:{click:function(t){return e.nextGlobalStep(6)}}},[e._v("Дополнительные данные - 1")]),s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>7},on:{click:function(t){return e.nextGlobalStep(7)}}},[e._v("Дополнительные данные - 2")]),s("div",{staticClass:"order-substep",class:{active:e.orderStepPos>8},on:{click:function(t){return e.nextGlobalStep(8)}}},[e._v("Дополнительные данные - 3")])]),s("div",{staticClass:"credit-selection",class:{loading:!e.loaded||!e.stepLoaded}},[s("div",{staticClass:"credit-selection-body"},[1==e.orderStepPos?s("CreateOrderStep1",{on:{loading:e.setLoading}}):e._e(),2==e.orderStepPos?s("CreateOrderStep2",{on:{loading:e.setLoading}}):e._e(),3==e.orderStepPos&&e.currentOrder.orderFullInfo.company.ul?s("CreateOrderStep3",{on:{loading:e.setLoading}}):e._e(),4==e.orderStepPos?s("CreateOrderStep4",{on:{loading:e.setLoading}}):e._e(),5==e.orderStepPos&&e.currentOrder.orderFullInfo.company.ul?s("CreateOrderStep5",{on:{loading:e.setLoading}}):e._e(),6==e.orderStepPos?s("CreateOrderStep6",{on:{loading:e.setLoading}}):e._e(),7==e.orderStepPos?s("CreateOrderStep7",{on:{loading:e.setLoading}}):e._e(),8==e.orderStepPos?s("CreateOrderStep8",{on:{loading:e.setLoading}}):e._e(),9==e.orderStepPos?s("CreateOrderStep9",{on:{loading:e.setLoading}}):e._e(),10==e.orderStepPos?s("CreateOrderStep10",{on:{loading:e.setLoading}}):e._e()],1)])])])])])},i=[],a=s("5530"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("CreditSelection",{ref:"creditSelection",attrs:{creditInfo:{rate:1.5,commission:1e4},orderStep1:!0}})},n=[],d=s("0eb7"),l=s("2f62"),c={name:"CreateOrderStep1",components:{CreditSelection:d["a"]},computed:Object(a["a"])({},Object(l["c"])({currentOrder:function(e){return e.createOrder}})),mounted:function(){this.$store.dispatch("setTariffDataForOrder",1)}},u=c,p=s("2877"),v=Object(p["a"])(u,o,n,!1,null,"6d274d9c",null),f=v.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info"},[s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Информация о заемщике")]),s("p",[e._v("Данные заполняются автоматически. Если данные некорректны, воспользуйтесь "),s("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.openInstructionModal=!0}}},[e._v("инструкцией")]),e._v(" или свяжитесь со службой поддержки "),s("a",{attrs:{href:"tel:8 800 77-518-77"}},[e._v("8 800 77-518-77")])])]),s("div",{staticClass:"order-person-info-list"},[s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Полное наименование организации")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.order.company.name))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("ИНН")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.order.company.inn||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("КПП")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.order.company.kpp||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("ОГРН")]),s("div",{staticClass:"order-person-info-list-body"},[e.ogrnChange?e._e():s("div",{staticClass:"h4"},[e._v(" "+e._s(e.order.order.ogrn)+" ")]),e.ogrnChange?e._e():s("div",{staticClass:"order-person-info-edit"},[s("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.ogrnChange=!e.ogrnChange}}},[s("span",{staticClass:"icon-edit"})])]),e.ogrnChange?s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"mask",rawName:"v-mask",value:e.ul?"#############":"###############",expression:"ul ? '#############' : '###############'"},{name:"model",rawName:"v-model",value:e.newOgrn,expression:"newOgrn"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.newOgrn.$error&&(!e.$v.newOgrn.required||!e.$v.newOgrn.minLength)},attrs:{type:"text"},domProps:{value:e.newOgrn},on:{input:[function(t){t.target.composing||(e.newOgrn=t.target.value)},function(t){return e.changedVal(!0)}]}}),s("a",{staticClass:"small-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.ogrnChange=!e.ogrnChange}}},[e._v("Отмена")])]):e._e()])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Дата создания организации")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.order.company.c_create?e.parseDate(e.order.company.c_create):"Не указано"))])])])]),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load},on:{click:function(t){return t.preventDefault(),e.setOrderStepPlus.apply(null,arguments)}}},[e._v(e._s(e.changedData?"Сохранить и продолжить":"Продолжить"))])]),e.openInstructionModal?s("Popup",{on:{"close-modal":function(t){return e.closeModal("openInstructionModal")}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2",domProps:{innerHTML:e._s(e.$t("create_order.instruction_modal.title"))}})]),s("div",{staticClass:"popup-body"},[s("div",{domProps:{innerHTML:e._s(e.$t("create_order.instruction_modal.descr"))}}),s("button",{staticClass:"btn btn-lg btn-block close-modal"},[e._v("Все понятно")])])]):e._e()],1)},m=[],b=s("8acc"),g=s("c1df"),C=s.n(g),_=s("b5ae"),y={name:"CreateOrderStep2",components:{Popup:b["a"]},validations:function(){return{newOgrn:{required:_["required"],minLength:Object(_["minLength"])(this.ul?13:15)}}},computed:Object(a["a"])({},Object(l["c"])({order:function(e){return e.createOrder.orderFullInfo},currentOrder:function(e){return e.createOrder},ul:function(e){return e.createOrder.orderFullInfo.company.ul}})),data:function(){return{openInstructionModal:!0,changedData:!1,ogrnChange:!1,load:!1,newOgrn:""}},methods:{updateStep:function(){this.$store.dispatch("updateOrderOnlyOne",{id:this.$route.params.id,fields:{ogrn:this.newOgrn}})},setOrderStepPlus:function(){var e=this;this.ogrnChange&&this.$v.$invalid?this.$v.$touch():(this.load=!0,this.ogrnChange&&this.changedData?this.$store.dispatch("updateOrderOnlyOne",{id:this.$route.params.id,fields:{ogrn:this.newOgrn}}).then((function(){var t=e.$route.params.id;e.$store.dispatch("getCurrentOrder",t).then((function(t){e.ul?e.$store.dispatch("nextStep").then((function(){e.load=!1})):e.$store.dispatch("updateStep",4).then((function(){e.load=!1}))}))})):this.ul?this.$store.dispatch("nextStep").then((function(){e.load=!1})):this.$store.dispatch("updateStep",4).then((function(){e.load=!1})))},setOrderStepMinus:function(){this.$store.dispatch("prevStep")},changedVal:function(e){this.changedData=e},closeModal:function(e){this[e]=!1},parseDate:function(e){return C()(e).format("DD.MM.YYYY")}},mounted:function(){this.openInstructionModal=!0}},$=y,x=Object(p["a"])($,h,m,!1,null,"14c49374",null),P=x.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info"},[e._m(0),e.currentOrder.orderFullInfo.company.ul||0!==e.address.length?s("div",{staticClass:"order-person-info-list"},[s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Индекс")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.postcode||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Регион")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.region||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Город")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.city||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Район")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.district||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Улица")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.street||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Дом")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.home||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Корпус")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.corps||"Не указано"))])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Кв / Офис")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(e._s(e.address.flat||"Не указано"))])])])]):e._e(),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load},on:{click:function(t){return t.preventDefault(),e.setOrderStepPlus.apply(null,arguments)}}},[e._v("Продолжить")])])])},M=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Юридический адрес")]),s("p",[e._v("Данные заполняются автоматически, если данные некорректны, свяжитесь со службой поддержки "),s("a",{attrs:{href:"tel:8 800 77-518-77"}},[e._v("8 800 77-518-77")])])])}],S={name:"CreateOrderStep3",data:function(){return{load:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({currentOrder:function(e){return e.createOrder},order:function(e){return e.createOrder.orderFullInfo}})),Object(l["b"])({address:"address1"})),methods:{setOrderStepPlus:function(){var e=this;this.load=!0,this.$store.dispatch("nextStep").then((function(){e.load=!1}))},setOrderStepMinus:function(){this.$store.dispatch("prevStep")},changedVal:function(e){this.$emit("canSaveAndNext",e)}}},k=S,w=Object(p["a"])(k,O,M,!1,null,"14300ff7",null),D=w.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info"},[e._m(0),s("div",{staticClass:"order-person-info-list"},[s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Фамилия")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(" "+e._s(e.order.user.surname||"Не указано")+" ")])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Имя")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(" "+e._s(e.order.user.name||"Не указано")+" ")])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Отчество")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(" "+e._s(e.order.user.patronymic||"Не указано")+" ")])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Телефон")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"h4"},[e._v(" "+e._s(e._f("VMask")(e.order.user.phone,"+7 ### ### ## ##"))+" ")])])])]),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load},on:{click:function(t){return t.preventDefault(),e.setOrderStepPlus.apply(null,arguments)}}},[e._v(e._s("Продолжить"))])])])},B=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Быстрое заполнение заявки через Цифровой профиль")]),s("p",[e._v("С портала Госуслуг будут получены паспортные данные, адрес регистрации, ИНН, СНИЛС, номер телефона, email")])])}],q={name:"CreateOrderStep4",computed:Object(a["a"])({},Object(l["c"])({currentOrder:function(e){return e.createOrder},order:function(e){return e.createOrder.orderFullInfo}})),data:function(){return{load:!1}},methods:{filledInfo:function(){this.$store.dispatch("nextStep")},setOrderStepPlus:function(){var e=this;this.load=!0,this.currentOrder.orderFullInfo.company.ul?this.$store.dispatch("nextStep").then((function(){e.load=!1})):this.$store.dispatch("updateStep",6).then((function(){e.load=!1}))},setOrderStepMinus:function(){this.currentOrder.orderFullInfo.company.ul?this.$store.dispatch("prevStep"):this.$store.dispatch("updateStep",2)}}},L=q,N=Object(p["a"])(L,j,B,!1,null,null,null),A=N.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info"},[s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2",domProps:{innerHTML:e._s(e.$t("create_order.expression_will_title"))}}),s("p",{domProps:{innerHTML:e._s(e.$t("create_order.expression_will_descr"))}})]),s("FoundersList"),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),e.foundersNotApprove.length>0?s("div",{staticClass:"need-approve"},[s("div",{staticClass:"h6"},[e._v("Необходимо согласовать с учредителями:")]),s("ul",e._l(e.foundersNotApprove,(function(t){return s("li",{key:t.id},[e._v(" "+e._s(t.entity?t.name:e.returnShortName(t.name))+" ")])})),0)]):e._e(),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:!e.allfoundersApprove||e.load},on:{click:function(t){return t.preventDefault(),e.setOrderStepPlus.apply(null,arguments)}}},[e._v("Продолжить ")])])],1)},F=[],V=(s("4de4"),s("ac1f"),s("1276"),s("99af"),s("fb6a"),s("284a")),I={name:"CreateOrderStep5",components:{FoundersList:V["a"]},computed:{founders:function(){return this.$store.state.founders.founders},foundersNotApprove:function(){return this.founders.filter((function(e){return 5!==e.status}))},allfoundersApprove:function(){this.foundersNotApprove.length;return!0}},data:function(){return{canGoToNextStep:!1,load:!1}},methods:{setOrderStepPlus:function(){var e=this;this.load=!0,this.allfoundersApprove?this.$store.dispatch("nextStep").then((function(){e.load=!1})):(alert("Необходимо согласовать со всеми учредителями"),this.load=!1)},setOrderStepMinus:function(){this.$store.dispatch("prevStep")},returnShortName:function(e){var t=e.split(" ");return"".concat(t[0]," ").concat(t[1].slice(0,1),". ").concat(t[2].slice(0,1),".")}}},T=I,z=Object(p["a"])(T,E,F,!1,null,"6a008870",null),H=z.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info order-step-info--additional"},[e._m(0),s("div",{staticClass:"order-step-info-block"},[e._m(1),s("div",{staticClass:"order-step-info-block-content"},[s("div",{staticClass:"checkbox-group"},e._l(e.taxationSystems,(function(t){return s("div",{key:t.value,staticClass:"form-checkbox"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.order.order.taxationSystem,expression:"order.order.taxationSystem"}],attrs:{type:"radio",name:"tax-radio"},domProps:{value:t.value,checked:e._q(e.order.order.taxationSystem,t.value)},on:{change:function(s){return e.$set(e.order.order,"taxationSystem",t.value)}}}),s("span",[e._v(e._s(t.title))])])])})),0)])]),s("div",{staticClass:"order-step-info-block"},[s("div",{staticClass:"order-step-info-block-title"},[s("div",{staticClass:"h3"},[e._v(e._s(e.order.company.ul?"Фактический адрес организации":"Юридический адрес"))]),s("p",[e._v("Заполните следующие поля:")])]),s("div",{staticClass:"order-step-info-block-content"},[e.order.company.ul?s("div",{staticClass:"order-person-info-address-matches"},[s("fg-checkbox",{on:{change:e.addressMatchesChange},model:{value:e.addressMatches,callback:function(t){e.addressMatches=t},expression:"addressMatches"}},[e._v(" Совпадает с адресом регистрации ")])],1):e._e(),s("div",{staticClass:"order-person-info-list"},[s("div",{staticClass:"order-person-info-list-item"},[e._m(2),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"},{name:"model",rawName:"v-model",value:e.address2.postcode,expression:"address2.postcode"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address2.postcode.$error&&(!e.$v.address2.postcode.required||!e.$v.address2.postcode.minLength)},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.postcode},on:{input:function(t){t.target.composing||e.$set(e.address2,"postcode",t.target.value)}}}):s("input",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"},{name:"model",rawName:"v-model",value:e.address1.postcode,expression:"address1.postcode"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address1.postcode.$error&&(!e.$v.address1.postcode.required||!e.$v.address1.postcode.minLength)},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.postcode},on:{input:function(t){t.target.composing||e.$set(e.address1,"postcode",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(3),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.city,expression:"address2.city"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address2.city.$error&&!e.$v.address2.city.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.city},on:{input:function(t){t.target.composing||e.$set(e.address2,"city",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.city,expression:"address1.city"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address1.city.$error&&!e.$v.address1.city.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.city},on:{input:function(t){t.target.composing||e.$set(e.address1,"city",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(4),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.region,expression:"address2.region"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address2.region.$error&&!e.$v.address2.region.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.region},on:{input:function(t){t.target.composing||e.$set(e.address2,"region",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.region,expression:"address1.region"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address1.region.$error&&!e.$v.address1.region.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.region},on:{input:function(t){t.target.composing||e.$set(e.address1,"region",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Район")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.district,expression:"address2.district"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.district},on:{input:function(t){t.target.composing||e.$set(e.address2,"district",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.district,expression:"address1.district"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.district},on:{input:function(t){t.target.composing||e.$set(e.address1,"district",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(5),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.street,expression:"address2.street"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address2.street.$error&&!e.$v.address2.street.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.street},on:{input:function(t){t.target.composing||e.$set(e.address2,"street",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.street,expression:"address1.street"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address1.street.$error&&!e.$v.address1.street.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.street},on:{input:function(t){t.target.composing||e.$set(e.address1,"street",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(6),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.home,expression:"address2.home"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address2.home.$error&&!e.$v.address2.home.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.home},on:{input:function(t){t.target.composing||e.$set(e.address2,"home",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.home,expression:"address1.home"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address1.home.$error&&!e.$v.address1.home.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.home},on:{input:function(t){t.target.composing||e.$set(e.address1,"home",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Корпус")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.corps,expression:"address2.corps"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.corps},on:{input:function(t){t.target.composing||e.$set(e.address2,"corps",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.corps,expression:"address1.corps"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.corps},on:{input:function(t){t.target.composing||e.$set(e.address1,"corps",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Кв / Офис")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[e.order.company.ul?s("input",{directives:[{name:"model",rawName:"v-model",value:e.address2.flat,expression:"address2.flat"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address2.flat},on:{input:function(t){t.target.composing||e.$set(e.address2,"flat",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.address1.flat,expression:"address1.flat"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address1.flat},on:{input:function(t){t.target.composing||e.$set(e.address1,"flat",t.target.value)}}})])])])])])]),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load},on:{click:function(t){return t.preventDefault(),e.confirmData.apply(null,arguments)}}},[e._v(e._s("Продолжить"))])]),e.errorModal?s("Popup",{attrs:{error:!0,classes:"error-modal"},on:{"close-modal":function(t){e.errorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[e._v("Ошибка при заполнении")])]),s("div",{staticClass:"popup-body"},[s("p",{staticClass:"error-text"},[e._v("Введите обязательные поля")]),s("button",{staticClass:"btn btn-lg btn-block close-modal"},[e._v("Хорошо")])])]):e._e()],1)},Y=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Дополнительные данные")]),s("p",[e._v("Необходимо вручную заполнить следующие поля:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-block-title"},[s("div",{staticClass:"h3"},[e._v("Применяемая система налогооблажения")]),s("p",[e._v("Выберите применяемую систему налогооблажения из списка:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Индекс "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Город "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Регион "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Улица "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Дом "),s("span",{staticClass:"red"},[e._v("*")])])}],X=(s("d3b7"),s("25f0"),{name:"CreateOrderStep6",components:{Popup:b["a"]},validations:{address2:{postcode:{required:_["required"],minLength:Object(_["minLength"])(6)},city:{required:_["required"]},region:{required:_["required"]},street:{required:_["required"]},home:{required:_["required"]}},address1:{postcode:{required:_["required"],minLength:Object(_["minLength"])(6)},city:{required:_["required"]},region:{required:_["required"]},street:{required:_["required"]},home:{required:_["required"]}}},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({fields:function(e){return e.createOrder.fields},order:function(e){return e.createOrder.orderFullInfo},taxationSystems:function(e){return e.createOrder.taxationSystems}})),Object(l["b"])(["address1","address2"])),data:function(){return{errorModal:!1,load:!1,addressMatches:!1}},methods:{confirmData:function(){if(this.order.company.ul){if(this.$v.address2.$invalid)return this.$v.address2.$touch(),void(this.errorModal=!0)}else if(this.$v.address1.$invalid)return this.$v.address1.$touch(),void(this.errorModal=!0);this.setOrderStepPlus()},setOrderStepPlus:function(){var e=this;if(this.load=!0,this.order.company.ul)for(var t in this.address2)this.address2[t]&&("postcode"===t&&(this.address2[t]=parseInt(this.address2[t])),"type"!==t&&(this.address2[t]=this.address2[t].toString()));else for(var s in this.address1)"type"!==s&&this.address1[s]&&(this.address1[s]=this.address1[s].toString());var r={address:[this.order.company.ul?this.address2:this.address1],taxationSystem:this.order.order.taxationSystem};this.$store.dispatch("updateOrderOnlyOne",{id:this.$route.params.id,fields:r}).then((function(){e.$store.dispatch("nextStep").then((function(){return e.load=!1}))}))},setOrderStepMinus:function(){this.order.company.ul?this.$store.dispatch("prevStep"):this.$store.dispatch("updateStep",4)},addressMatchesChange:function(){this.addressMatches&&this.$store.commit("addressMatchesChange",2)}}}),U=X,R=Object(p["a"])(U,G,Y,!1,null,null,null),J=R.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info order-step-info--additional"},[e._m(0),s("div",{staticClass:"order-step-info-block"},[s("div",{staticClass:"order-step-info-block-title"},[s("div",{staticClass:"h3"},[e._v(e._s(e.order.company.ul?"Фактический адрес проживания руководителя":"Фактический адрес проживания индивидуального предпринимателя"))]),s("p",[e._v("Заполните следующие поля:")])]),s("div",{staticClass:"order-step-info-block-content"},[s("div",{staticClass:"order-person-info-address-matches"},[s("fg-checkbox",{on:{change:e.addressMatchesChange},model:{value:e.addressMatches,callback:function(t){e.addressMatches=t},expression:"addressMatches"}},[e._v(" Совпадает с адресом регистрации ")])],1),s("div",{staticClass:"order-person-info-list"},[s("div",{staticClass:"order-person-info-list-item"},[e._m(1),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"},{name:"model",rawName:"v-model",value:e.address3.postcode,expression:"address3.postcode"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address3.postcode.$error&&(!e.$v.address3.required||!e.$v.address3.minLength)},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.postcode},on:{input:function(t){t.target.composing||e.$set(e.address3,"postcode",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(2),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.region,expression:"address3.region"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address3.region.$error&&!e.$v.address3.region.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.region},on:{input:function(t){t.target.composing||e.$set(e.address3,"region",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(3),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.city,expression:"address3.city"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address3.city.$error&&!e.$v.address3.city.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.city},on:{input:function(t){t.target.composing||e.$set(e.address3,"city",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Район")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.district,expression:"address3.district"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.district},on:{input:function(t){t.target.composing||e.$set(e.address3,"district",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(4),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.street,expression:"address3.street"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address3.street.$error&&!e.$v.address3.street.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.street},on:{input:function(t){t.target.composing||e.$set(e.address3,"street",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[e._m(5),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.home,expression:"address3.home"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.address3.home.$error&&!e.$v.address3.home.required},attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.home},on:{input:function(t){t.target.composing||e.$set(e.address3,"home",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Корпус")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.corps,expression:"address3.corps"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.corps},on:{input:function(t){t.target.composing||e.$set(e.address3,"corps",t.target.value)}}})])])]),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Кв / Офис")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address3.flat,expression:"address3.flat"}],staticClass:"order-person-info-change-input",attrs:{type:"text",readonly:e.addressMatches,disabled:e.addressMatches},domProps:{value:e.address3.flat},on:{input:function(t){t.target.composing||e.$set(e.address3,"flat",t.target.value)}}})])])])])])]),e.order.company.ul?s("div",{staticClass:"order-step-info-block"},[e._m(6),s("div",{staticClass:"order-step-info-block-content"},[s("div",{staticClass:"order-person-info-list order-person-info-list--boards"},[s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Наличие Наблюдательного совета")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-checkbox"},[s("fg-checkbox",{model:{value:e.superVisoryBoardCheckbox,callback:function(t){e.superVisoryBoardCheckbox=t},expression:"superVisoryBoardCheckbox"}},[e._v("Да")])],1)])]),e.superVisoryBoardCheckbox?s("div",{staticClass:"order-person-info-list-item"},[e._m(7),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},e._l(e.superVisoryBoardPersonal,(function(t,r){return s("div",{key:r,staticClass:"personal-list-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.superVisoryBoardPersonal[r],expression:"superVisoryBoardPersonal[index]"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:e.superVisoryBoardPersonal[r]},on:{input:function(t){t.target.composing||e.$set(e.superVisoryBoardPersonal,r,t.target.value)}}}),e.superVisoryBoardPersonal.length===r+1?s("button",{staticClass:"btn btn-icon",on:{click:function(t){return e.superVisoryBoardPersonal.push("")}}},[s("span",{staticClass:"plus-icon"})]):s("button",{staticClass:"btn btn-icon",on:{click:function(t){return e.superVisoryBoardPersonal.splice(r,1)}}},[s("span",{staticClass:"minus-icon"})])])})),0)])]):e._e(),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Наличие Совета директоров")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-checkbox"},[s("fg-checkbox",{model:{value:e.directorsBoardCheckbox,callback:function(t){e.directorsBoardCheckbox=t},expression:"directorsBoardCheckbox"}},[e._v("Да")])],1)])]),e.directorsBoardCheckbox?s("div",{staticClass:"order-person-info-list-item"},[e._m(8),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},e._l(e.directorsBoardPersonal,(function(t,r){return s("div",{key:r,staticClass:"personal-list-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.directorsBoardPersonal[r],expression:"directorsBoardPersonal[index]"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:e.directorsBoardPersonal[r]},on:{input:function(t){t.target.composing||e.$set(e.directorsBoardPersonal,r,t.target.value)}}}),e.directorsBoardPersonal.length===r+1?s("button",{staticClass:"btn btn-icon",on:{click:function(t){return e.directorsBoardPersonal.push("")}}},[s("span",{staticClass:"plus-icon"})]):s("button",{staticClass:"btn btn-icon",on:{click:function(t){return e.directorsBoardPersonal.splice(r,1)}}},[s("span",{staticClass:"minus-icon"})])])})),0)])]):e._e(),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Наличие иного коллегиального органа")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-checkbox"},[s("fg-checkbox",{model:{value:e.otherBoardCheckbox,callback:function(t){e.otherBoardCheckbox=t},expression:"otherBoardCheckbox"}},[e._v("Да")])],1)])]),e.otherBoardCheckbox?s("div",{staticClass:"order-person-info-list-item"},[e._m(9),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-change"},e._l(e.otherBoardPersonal,(function(t,r){return s("div",{key:r,staticClass:"personal-list-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.otherBoardPersonal[r],expression:"otherBoardPersonal[index]"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:e.otherBoardPersonal[r]},on:{input:function(t){t.target.composing||e.$set(e.otherBoardPersonal,r,t.target.value)}}}),e.otherBoardPersonal.length===r+1?s("button",{staticClass:"btn btn-icon",on:{click:function(t){return e.otherBoardPersonal.push("")}}},[s("span",{staticClass:"plus-icon"})]):s("button",{staticClass:"btn btn-icon",on:{click:function(t){return e.otherBoardPersonal.splice(r,1)}}},[s("span",{staticClass:"minus-icon"})])])})),0)])]):e._e(),s("div",{staticClass:"order-person-info-list-item"},[s("div",{staticClass:"order-person-info-list-title"},[e._v("Корпоративный договор/акционерное соглашение заключены?")]),s("div",{staticClass:"order-person-info-list-body"},[s("div",{staticClass:"order-person-info-checkbox"},[s("fg-checkbox",{model:{value:e.order.order.corporateAgreement,callback:function(t){e.$set(e.order.order,"corporateAgreement",t)},expression:"order.order.corporateAgreement"}},[e._v("Да")])],1)])])])])]):e._e(),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load},on:{click:function(t){return t.preventDefault(),e.confirmData.apply(null,arguments)}}},[e._v(e._s("Продолжить"))])]),e.errorModal?s("Popup",{attrs:{error:!0,classes:"error-modal"},on:{"close-modal":function(t){e.errorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[e._v("Ошибка при заполнении")])]),s("div",{staticClass:"popup-body"},[s("p",{staticClass:"error-text"},[e._v("Введите обязательные поля")]),s("button",{staticClass:"btn btn-lg btn-block close-modal"},[e._v("Хорошо")])])]):e._e()],1)},Z=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Дополнительные данные")]),s("p",[e._v("Необходимо вручную заполнить следующие поля:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Индекс "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Регион "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Город "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Улица "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v("Дом "),s("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-block-title"},[s("div",{staticClass:"h3"},[e._v("Структура (органы управления) организации")]),s("p",[e._v("Укажите текущие органы управления организацией")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v('"Персональный состав Наблюдательного совета (ФИО)*'),s("br"),e._v('*за исключением общего собрания акционеров/участников" ?')])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v('"Персональный состав Совета директоров (ФИО)*'),s("br"),e._v('*за исключением общего собрания акционеров/участников" ?')])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-person-info-list-title"},[e._v('"Персональный состав органов управления (ФИО)*'),s("br"),e._v('*за исключением общего собрания акционеров/участников" ?')])}],K=(s("a15b"),{name:"CreateOrderStep7",validations:{address3:{postcode:{required:_["required"],minLength:Object(_["minLength"])(6)},city:{required:_["required"]},region:{required:_["required"]},street:{required:_["required"]},home:{required:_["required"]}}},components:{Popup:b["a"]},data:function(){return{load:!1,superVisoryBoardCheckbox:!1,directorsBoardCheckbox:!1,otherBoardCheckbox:!1,corporateAgreement:!1,errorModal:!1,addressMatches:!1,superVisoryBoardPersonal:[""],directorsBoardPersonal:[""],otherBoardPersonal:[""]}},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({order:function(e){return e.createOrder.orderFullInfo},fields:function(e){return e.createOrder.fields}})),{},{address3:function(){return this.order.address.filter((function(e){return 3===e.type}))[0]}}),methods:{setOrderStepPlus:function(){var e=this;for(var t in this.load=!0,this.address3)this.address3[t]&&("postcode"===t&&(this.address3[t]=parseInt(this.address3[t])),"type"!==t&&(this.address3[t]=this.address3[t].toString()));var s={address:[this.address3]};this.order.company.ul&&(null!==this.order.order.superVisoryBoard&&(s.superVisoryBoard=this.order.order.superVisoryBoard.toString()),null!==this.order.order.directorsBoard&&(s.directorsBoard=this.order.order.directorsBoard.toString()),null!==this.order.order.otherBoard&&(s.otherBoard=this.order.order.otherBoard.toString()),null!==this.order.order.corporateAgreement&&(s.corporateAgreement=this.order.order.corporateAgreement.toString())),this.$store.dispatch("updateOrderOnlyOne",{id:this.$route.params.id,fields:s}).then((function(){e.$store.dispatch("nextStep").then((function(){e.load=!1}))}))},setOrderStepMinus:function(){this.$store.dispatch("prevStep")},confirmData:function(){if(this.$v.address3.$invalid)return this.$v.address3.$touch(),void(this.errorModal=!0);if(this.order.company.ul){var e=this.superVisoryBoardPersonal.filter((function(e){return e.length>0})),t=this.directorsBoardPersonal.filter((function(e){return e.length>0})),s=this.otherBoardPersonal.filter((function(e){return e.length>0}));if(0!==e.length&&(this.order.order.superVisoryBoard=e.join(", ")),0!==t.length&&(this.order.order.directorsBoard=t.join(", ")),0!==s.length&&(this.order.order.otherBoard=s.join(", ")),this.superVisoryBoardCheckbox||(this.order.order.superVisoryBoard=""),this.directorsBoardCheckbox||(this.order.order.directorsBoard=""),this.otherBoardCheckbox||(this.order.order.otherBoard=""),this.superVisoryBoardCheckbox&&(null===this.order.order.superVisoryBoard||""===this.order.order.superVisoryBoard))return this.errorModal=!0,!1;if(this.directorsBoardCheckbox&&(null===this.order.order.directorsBoard||""===this.order.order.directorsBoard))return this.errorModal=!0,!1;if(this.otherBoardCheckbox&&(null===this.order.order.otherBoard||""===this.order.order.otherBoard))return this.errorModal=!0,!1}this.setOrderStepPlus()},addressMatchesChange:function(){this.addressMatches&&this.$store.commit("addressMatchesChange",3)}},mounted:function(){var e=this,t=this.$route.params.id;this.$store.dispatch("getCurrentOrder",t).then((function(){null!==e.order.order.superVisoryBoard&&(e.superVisoryBoardCheckbox=!0,e.superVisoryBoardPersonal=e.order.order.superVisoryBoard.split(", ")),null!==e.order.order.directorsBoard&&(e.directorsBoardCheckbox=!0,e.directorsBoardPersonal=e.order.order.directorsBoard.split(", ")),null!==e.order.order.otherBoard&&(e.otherBoardCheckbox=!0,e.otherBoardPersonal=e.order.order.otherBoard.split(", ")),null!==e.order.order.corporateAgreement&&("true"===e.order.order.corporateAgreement?e.order.order.corporateAgreement=!0:e.order.order.corporateAgreement=!1)})),this.$store.commit("setOrderId",this.$route.params.id)}}),Q=K,ee=Object(p["a"])(Q,W,Z,!1,null,"0e4772ee",null),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info order-step-info--additional"},[e._m(0),s("div",{staticClass:"order-step-info-block"},[e._m(1),s("div",{staticClass:"order-step-info-block-content"},[s("div",{staticClass:"business-description"},[e._m(2),s("div",{staticClass:"business-description-body"},e._l(e.mainActivities,(function(t,r){return s("div",{key:r,staticClass:"business-description-tr"},[s("div",{staticClass:"business-description-td title",attrs:{"data-title":"Деятельность"}},[s("input",0===r?{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.mainActivities.$each[0].title.$error&&!e.$v.mainActivities.$each[0].title.required},attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||e.$set(t,"title",s.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||e.$set(t,"title",s.target.value)}}})]),s("div",{staticClass:"business-description-td proportion",attrs:{"data-title":"Доля в общем объеме реализации (в %)"}},[s("input",0===r?{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"item.share"},{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"order-person-info-change-input",class:{invalid:!e.shares[0]||!!e.$v.mainActivities.$each[0].share.$error&&!e.$v.mainActivities.$each[0].share.required},attrs:{type:"text"},domProps:{value:t.share},on:{input:function(s){s.target.composing||e.$set(t,"share",s.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"item.share"},{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:t.share},on:{input:function(s){s.target.composing||e.$set(t,"share",s.target.value)}}})])])})),0)]),s("div",{staticClass:"business-description"},[e._m(3),s("div",{staticClass:"business-description-body"},e._l(e.mainSuppliers,(function(t,r){return s("div",{key:r,staticClass:"business-description-tr"},[s("div",{staticClass:"business-description-td title",attrs:{"data-title":"Поставщик"}},[s("input",0===r?{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.mainSuppliers.$each[0].title.$error&&!e.$v.mainSuppliers.$each[0].title.required},attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||e.$set(t,"title",s.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||e.$set(t,"title",s.target.value)}}})]),s("div",{staticClass:"business-description-td term",attrs:{"data-title":"Срок сотрудничества"}},[s("fg-checkbox",{model:{value:t.term,callback:function(s){e.$set(t,"term",s)},expression:"item.term"}},[e._v("Более 1 года")])],1),s("div",{staticClass:"business-description-td proportion",attrs:{"data-title":"Доля в общем объеме реализации (в %)"}},[s("input",0===r?{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"item.share"},{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"order-person-info-change-input",class:{invalid:!e.shares[1]||!!e.$v.mainSuppliers.$each[0].share.$error&&!e.$v.mainSuppliers.$each[0].share.required},attrs:{type:"text"},domProps:{value:t.share},on:{input:function(s){s.target.composing||e.$set(t,"share",s.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"item.share"},{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:t.share},on:{input:function(s){s.target.composing||e.$set(t,"share",s.target.value)}}})])])})),0)]),s("div",{staticClass:"business-description"},[e._m(4),s("div",{staticClass:"business-description-body"},[s("div",{staticClass:"business-description-tr"},[s("div",{staticClass:"business-description-buyers-population"},[s("fg-checkbox",[e._v("Более 70% населения")])],1)]),e._l(e.mainBuyers,(function(t,r){return s("div",{key:r,staticClass:"business-description-tr"},[s("div",{staticClass:"business-description-td title",attrs:{"data-title":"3 основных покупателя (по обороту)"}},[s("input",0===r?{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],staticClass:"order-person-info-change-input",class:{invalid:!!e.$v.mainBuyers.$each[0].title.$error&&!e.$v.mainBuyers.$each[0].title.required},attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||e.$set(t,"title",s.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||e.$set(t,"title",s.target.value)}}})]),s("div",{staticClass:"business-description-td term",attrs:{"data-title":"Срок сотрудничества"}},[s("fg-checkbox",{model:{value:t.term,callback:function(s){e.$set(t,"term",s)},expression:"item.term"}},[e._v("Более 1 года")])],1),s("div",{staticClass:"business-description-td proportion",attrs:{"data-title":"Доля в общем объеме реализации (в %)"}},[s("input",0===r?{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"item.share"},{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"order-person-info-change-input",class:{invalid:!e.shares[2]||!!e.$v.mainBuyers.$each[0].share.$error&&!e.$v.mainBuyers.$each[0].share.required},attrs:{type:"text"},domProps:{value:t.share},on:{input:function(s){s.target.composing||e.$set(t,"share",s.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"item.share"},{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"order-person-info-change-input",attrs:{type:"text"},domProps:{value:t.share},on:{input:function(s){s.target.composing||e.$set(t,"share",s.target.value)}}})])])}))],2)])])]),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load},on:{click:function(t){return t.preventDefault(),e.confirmData.apply(null,arguments)}}},[e._v(e._s("Продолжить"))])]),e.errorModal?s("Popup",{attrs:{error:!0,classes:"error-modal"},on:{"close-modal":function(t){e.errorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[e._v("Ошибка при заполнении")])]),s("div",{staticClass:"popup-body"},[s("p",{staticClass:"error-text"},[e._v(e._s(e.errorText))]),s("button",{staticClass:"btn btn-lg btn-block close-modal"},[e._v("Хорошо")])])]):e._e()],1)},re=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Дополнительные данные")]),s("p",[e._v("Необходимо вручную заполнить следующие поля:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-block-title"},[s("div",{staticClass:"h3"},[e._v("Описание бизнеса")]),s("p",[e._v("Основные характеристики и условия ведения деятельности.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"business-description-header"},[s("div",{staticClass:"business-description-th title"},[e._v("3 основных вида деятельности")]),s("div",{staticClass:"business-description-th proportion"},[e._v("Доля в общем объеме реализации (в %)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"business-description-header"},[s("div",{staticClass:"business-description-th title"},[e._v("3 основных поставщика (по обороту)")]),s("div",{staticClass:"business-description-th term"},[e._v("Срок сотрудничества")]),s("div",{staticClass:"business-description-th proportion"},[e._v("Доля в общем объеме реализации (в %)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"business-description-header"},[s("div",{staticClass:"business-description-th title"},[e._v("3 основных покупателя (по обороту)")]),s("div",{staticClass:"business-description-th term"},[e._v("Срок сотрудничества")]),s("div",{staticClass:"business-description-th proportion"},[e._v("Доля в общем объеме реализации (в %)")])])}],ie={name:"CreateOrderStep6",components:{Popup:b["a"]},validations:{mainActivities:{$each:{title:{required:_["required"]},share:{required:_["required"]}}},mainSuppliers:{$each:{title:{required:_["required"]},share:{required:_["required"]}}},mainBuyers:{$each:{title:{required:_["required"]},share:{required:_["required"]}}}},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({order:function(e){return e.createOrder.orderFullInfo}})),{},{mainActivities:function(){return this.order.order.share.filter((function(e){return 1===e.type}))},mainSuppliers:function(){return this.order.order.share.filter((function(e){return 2===e.type}))},mainBuyers:function(){return this.order.order.share.filter((function(e){return 3===e.type}))},buyersPopulation:function(){return this.order.order.share.filter((function(e){return 4===e.type}))[0]}}),data:function(){return{errorModal:!1,load:!1,shares:[!0,!0,!0],errorText:"Введите обязательные поля"}},methods:{confirmData:function(){return this.shares[0]=parseInt(this.mainActivities[0].share)<=100,this.shares[1]=parseInt(this.mainSuppliers[0].share)<=100,this.shares[2]=parseInt(this.mainBuyers[0].share)<=100,this.$v.mainActivities.$each[0].$invalid||this.$v.mainSuppliers.$each[0].$invalid||this.$v.mainBuyers.$each[0].$invalid?(this.$v.$touch(),this.errorText="Введите обязательные поля",void(this.errorModal=!0)):this.$v.mainActivities.$each[0].$invalid||this.$v.mainSuppliers.$each[0].$invalid||this.$v.mainBuyers.$each[0].$invalid||0===this.shares.filter((function(e){return!e})).length?void this.setOrderStepPlus():(this.errorText="Проверьте корректность введеных данных",void(this.errorModal=!0))},setOrderStepPlus:function(){var e=this;this.load=!0,this.$store.dispatch("updateOrderOnlyOne",{id:this.$route.params.id,fields:{share:this.order.order.share}}).then((function(){e.$store.dispatch("nextStep"),e.load=!1}))},setOrderStepMinus:function(){this.$store.dispatch("prevStep")}}},ae=ie,oe=Object(p["a"])(ae,se,re,!1,null,null,null),ne=oe.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upload-documents-block"},[s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2",domProps:{innerHTML:e._s(e.$t("create_order.required_documents_title"))}}),s("p",{domProps:{innerHTML:e._s(e.$t("create_order.required_documents_descr"))}})]),s("div",{staticClass:"upload-documents"},e._l(e.initialDocuments,(function(t){return s("div",{key:t.id,staticClass:"upload-documents-item"},[s("div",{staticClass:"upload-documents-img"},[s("div",{staticClass:"upload-documents-poster"},[e._v(" "+e._s(0!==t.files.length?t.files[t.files.length-1].format:"File")+" ")])]),s("div",{staticClass:"upload-documents-title",class:{uploaded:0!==t.files.length}},[e._v(" "+e._s(t.name)+" "),0!==t.files.length?s("ul",{staticClass:"uploaded-files"},e._l(t.files,(function(t,r){return s("li",{key:t.id},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.openDocViewModal(t)}}},[e._v(e._s(r+1)+". "+e._s(t.name)+"."+e._s(t.format))])])})),0):e._e()]),s("div",{staticClass:"upload-documents-status"},[t.loaded?[s("div",{staticClass:"upload-documents-loaded"},[e._v("Загружается")])]:[0!==t.files.length?[s("div",{staticClass:"upload-success"},[s("div",{staticClass:"upload-success-text"},[e._v("Загружено")]),s("label",{staticClass:"upload-add-btn"},[s("input",{attrs:{type:"file",multiple:""},on:{change:function(s){return e.selectedFile(s,t)}}}),s("span",{staticClass:"icon-doc-plus"})]),s("a",{staticClass:"upload-success-delete",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.deleteFiles(t.id)}}},[s("span",{staticClass:"icon-trash"})])])]:[s("div",{staticClass:"upload-load"},[s("label",{staticClass:"upload-file-btn"},[s("input",{attrs:{type:"file",multiple:""},on:{change:function(s){return e.selectedFile(s,t)}}}),s("span",{staticClass:"btn btn-sm btn-border"},[e._v("Загрузить")])])])]]],2)])})),0),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад")]),s("div",{staticClass:"next-step-text-info",domProps:{innerHTML:e._s(e.$t("create_order.required_documents_footer"))}}),s("button",{staticClass:"btn",class:{loading:e.load},attrs:{disabled:e.load||!e.disabled},on:{click:function(t){return t.preventDefault(),e.setOrderStepPlus.apply(null,arguments)}}},[e._v("Продолжить")])]),e.viewDocumentModal?s("DocView",{attrs:{list:e.viewDocument,familiarizedBtn:!1},on:{"close-modal":function(t){e.viewDocumentModal=!1}}}):e._e(),e.errorModal?s("Popup",{attrs:{error:!0,classes:"error-modal"},on:{"close-modal":function(t){e.errorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[e._v("Ошибка при загрузке")])]),s("div",{staticClass:"popup-body"},[s("p",{staticClass:"error-text"},[e._v(e._s(e.errorText))]),s("button",{staticClass:"btn btn-lg btn-block close-modal"},[e._v("Хорошо")])])]):e._e(),e.docViewErrorModal?s("Popup",{attrs:{error:!0},on:{"close-modal":function(t){e.docViewErrorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[e._v("Документы формата DOC, DOCX, XLS и XLSX нельзя просматривать через браузер")])]),s("div",{staticClass:"popup-body"},[s("p",[e._v("Для просмотра данного документа Вам необходимо его скачать")]),s("button",{staticClass:"btn btn-lg btn-block close-modal",on:{click:function(t){return t.preventDefault(),e.downloadFile(e.downloadedDoc)}}},[e._v("Скачать")])])]):e._e()],1)},le=[],ce=(s("159b"),s("b0c0"),s("2f2e")),ue={name:"CreateOrderStep9",components:{DocView:ce["a"],Popup:b["a"]},computed:Object(a["a"])(Object(a["a"])({notLoadedDocs:function(){return this.documents.filter((function(e){return 1!=e.status}))}},Object(l["c"])({order:function(e){return e.createOrder.orderFullInfo},initialDocuments:function(e){return e.createOrder.initialDocuments}})),{},{disabled:function(){var e=!0;return 0!==this.initialDocuments.filter((function(e){return 0===e.files.length})).length&&(e=!1),e}}),data:function(){return{viewDocumentModal:!1,viewDocument:{},loadedDocsViews:[],load:!1,errorModal:!1,errorText:"",docViewErrorModal:!1,downloadedDoc:""}},methods:{setOrderStepPlus:function(){var e=this;this.load=!0,this.$store.dispatch("nextStep").then((function(){e.load=!1}))},setOrderStepMinus:function(){this.$store.dispatch("prevStep")},selectedFile:function(e,t){var s=this,r=e.target.files,i=!0;r.forEach((function(e){var r=e.name.split("").reverse().join("").split(".")[0].split("").reverse().join(""),a=e.size;"jpg"!==r&&"png"!==r&&"doc"!==r&&"docx"!==r&&"pdf"!==r&&"xls"!==r&&"xlsx"!==r&&(s.errorText="Допустимые форматы: JPG, PNG, DOC, DOCX, PDF, XLS, XLSX",s.errorModal=!0,t.loaded=!1,i=!1),a>3e6&&(s.errorText="Размер файла не должен превышать 3 Мбайт",s.errorModal=!0,t.loaded=!1,i=!1),0===a&&(console.log(!0),s.errorText="Файл не допустимого размера (0 байт)",s.errorModal=!0,t.loaded=!1,i=!1)})),i&&this.$store.dispatch("sendFile",{files:e.target.files,id:t.id}).then(t.loaded=!1)},openDocViewModal:function(e){"pdf"===e.format||"jpg"===e.format||"png"===e.format?(this.viewDocument=e,this.viewDocumentModal=!0):(this.downloadedDoc=e,this.docViewErrorModal=!0)},deleteFiles:function(e){this.$store.dispatch("deleteFiles",e)},downloadFile:function(e){var t=this;this.$store.dispatch("getFile",e.id).then((function(s){t.$store.dispatch("downloadFile",{content:s,name:e.name,format:e.format})}))}},mounted:function(){var e=this.$route.params.id;this.$store.dispatch("getOrderDocs",{id:e,type:4}),this.$store.commit("setOrderId",e)}},pe=ue,ve=Object(p["a"])(pe,de,le,!1,null,"056787b6",null),fe=ve.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signing-documents-wrapper"},[e._m(0),s("div",{staticClass:"upload-documents"},[s("div",{staticClass:"upload-documents"},[e.visibleDocs.length>0?[e._l(e.visibleDocs,(function(t){return e._l(t.files,(function(t){return s("div",{key:t.id,staticClass:"upload-documents-item"},[s("div",{staticClass:"upload-documents-img"},[s("div",{staticClass:"upload-documents-poster"},[e._v(e._s(t.format))])]),s("div",{staticClass:"upload-documents-title"},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.openDocViewModal(t)}}},[e._v(e._s(t.name))]),s("br"),s("a",{staticClass:"download-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.downloadFile(t)}}},[e._v("Скачать")])]),s("div",{staticClass:"upload-documents-status"},[t.familiarized?e._e():s("a",{staticClass:"btn btn-border btn-sm",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.openDocViewModal(t)}}},[e._v("Ознакомиться")]),t.familiarized?s("div",{staticClass:"upload-success"},[s("div",{staticClass:"upload-success-text"},[e._v("Ознакомлен")])]):e._e()])])}))}))]:e._e()],2)]),s("div",{staticClass:"crediting-funds"},[s("div",{staticClass:"h4"},[e._v("Зачисление денежных средств")]),s("div",{staticClass:"crediting-funds-list"},[s("div",{staticClass:"crediting-funds-item"},[s("div",{staticClass:"crediting-funds-item-left"},[s("div",{staticClass:"h6",domProps:{innerHTML:e._s(e.$t("create_order.finish_checkbox_1_title"))}}),s("p",{domProps:{innerHTML:e._s(e.$t("create_order.finish_checkbox_1_descr"))}})]),s("div",{staticClass:"crediting-funds-item-right"},[s("div",{staticClass:"h6"},[e._v("Я согласен")]),s("FormGroupSwitchCheckbox",{model:{value:e.openingCurrentAcc,callback:function(t){e.openingCurrentAcc=t},expression:"openingCurrentAcc"}})],1)]),s("div",{staticClass:"crediting-funds-item"},[s("div",{staticClass:"crediting-funds-item-left"},[s("div",{staticClass:"h6",domProps:{innerHTML:e._s(e.$t("create_order.finish_checkbox_2_title"))}}),s("p",{domProps:{innerHTML:e._s(e.$t("create_order.finish_checkbox_2_descr"))}})]),s("div",{staticClass:"crediting-funds-item-right"},[s("div",{staticClass:"h6"},[e._v("Я согласен")]),s("FormGroupSwitchCheckbox",{model:{value:e.openingPledgeAcc,callback:function(t){e.openingPledgeAcc=t},expression:"openingPledgeAcc"}})],1)])])]),s("div",{staticClass:"order-person-info-footer-btns"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.setOrderStepMinus.apply(null,arguments)}}},[e._v("Назад ")]),e._m(1),s("button",{staticClass:"btn",attrs:{disabled:!e.canSigning},on:{click:e.openSigningModal}},[e._v("Подписать ")])]),e.viewDocumentModal?s("DocView",{attrs:{list:e.viewDocument},on:{"close-modal":function(t){return e.closeViewDocModal()},"familiarized-doc":e.familiarizedDoc}}):e._e(),e.signingModal?s("Popup",{ref:"signingModal",on:{"close-modal":function(t){e.signingModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2"},[e._v("Подписание заявки")])]),s("div",{staticClass:"order-success"},[s("div",{staticClass:"credit-data"},[s("div",{staticClass:"h4"},[e._v("Данные о кредите")]),s("ul",[s("li"),s("li",[e._v("Название: Кредит «"+e._s(e.order.order.name)+"»")]),s("li",[e._v("Сумма: "+e._s(e.order.order.sum.toString().replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1 "))+" рублей")]),s("li",[e._v("Цель: "+e._s(e.order.order.purpose))]),s("li",[e._v("Срок: "+e._s(e.order.order.term)+" месяцев")]),s("li",[e._v("Кредитная линия: "+e._s(e.order.order.line?" Да":"Нет"))]),s("li",[e._v("Страхование жизни директора: "+e._s(e.order.order.insurance?" Да":"Нет"))]),s("li",[e._v("Стоимость страхования жизни: 10 000 рублей")]),s("li",[e._v("Комиссия за выдачу: 10 000 рублей")])])]),s("div",{staticClass:"order-success-submit"},[s("button",{staticClass:"btn btn-block btn-lg",class:{loading:e.load},attrs:{disabled:e.load},on:{click:e.initDiadocScript}},[e._v("Подписать ")]),s("p",[e._v("Подписание осуществляется при помощи ЭП")])])])]):e._e(),e.successModal?s("Popup",{ref:"successModal",on:{"close-modal":e.closeSuccessModal}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2",domProps:{innerHTML:e._s(e.$t("create_order.success_title"))}})]),s("div",{staticClass:"popup-body"},[s("div",{domProps:{innerHTML:e._s(e.$t("create_order.success_descr"))}}),s("a",{staticClass:"btn btn-block btn-lg close-modal",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v("Все понятно")])])]):e._e(),e.errorModal?s("Popup",{ref:"errorModal",on:{"close-modal":function(t){e.errorModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2",domProps:{innerHTML:e._s(e.$t("create_order.error_title"))}})]),s("div",{staticClass:"popup-body"},[s("p",{domProps:{innerHTML:e._s(e.$t("create_order.error_descr"))}}),s("a",{staticClass:"btn btn-block btn-lg close-modal",attrs:{href:"#"}},[e._v("Написать в службу поддержки")])])]):e._e(),e.diadocModal?s("Popup",{ref:"diadocModal",attrs:{classes:"diadoc-plugins-modal"},on:{"close-modal":e.closeDiadocModal}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2"},[e._v("Для подписания документов при помощи ЭЦП Вам необходимо:")])]),s("div",{staticClass:"popup-body"},[s("div",{staticClass:"plugins-list"},[s("div",{staticClass:"plugins-list-item"},[e._v("1. Установить криптопровайдер: "),s("br"),s("a",{staticClass:"link",attrs:{href:"https://www.cryptopro.ru/products/cades/plugin",target:"_blank"}},[e._v("КриптоПро CSP")])]),s("div",{staticClass:"plugins-list-item"},[e._v("2. Установите КриптоПро ЭЦП Browser plug-in: "),s("br"),s("a",{staticClass:"link",attrs:{href:"https://cryptopro.ru/products/cades/plugin/get_2_0",target:"_blank"}},[e._v("КриптоПро CSP Browser plug-in")])])])])]):e._e(),e.errorDiadocModal?s("Popup",{attrs:{error:!0,classes:"error-modal",zIndex:101},on:{"close-modal":function(t){e.errorDiadocModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h3"},[e._v("Ошибка")])]),s("div",{staticClass:"popup-body"},[s("p",{staticClass:"error-text"},[e._v(e._s(e.errorDiadocText))]),s("button",{staticClass:"btn btn-lg btn-block close-modal"},[e._v("Попробовать снова")])])]):e._e(),e.sertificatesModal?s("Popup",{ref:"sertificatesModal",attrs:{classes:"sertificates-modal"},on:{"close-modal":e.closeSertificatesModal}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2"},[e._v("Выберите необходимый сертификат для цифровой подписи документов:")])]),s("div",{staticClass:"popup-body"},[s("div",{staticClass:"select-sertificates"},e._l(e.sertificates,(function(t){return s("div",{key:t._cadesCertificate.objid,staticClass:"sertificates-item",class:{active:e.selectedSertificates==t},on:{click:function(s){e.selectedSertificates=t}}},[s("span",[e._v(e._s(t.name)+" (действителен до: "+e._s(e.parseDate(t.validTo))+")")])])})),0),s("div",{staticClass:"sertificate-helper"},[s("p",[e._v(" * Если не видите необходимый сертификат, то возможно он не добавлен в программе КриптоПро. Чтобы добавить сертификат в КриптоПро следуйте следующей инструкции:"),s("br"),s("a",{staticClass:"download-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.instructionPopup=!0}}},[e._v("Инструкция по добавлению сертификата")])])]),s("button",{staticClass:"btn btn-block",class:{loading:e.signLoad},attrs:{disabled:e.signLoad},on:{click:e.createSignature}},[e._v("Подписать")])])]):e._e(),e.mobModal?s("Popup",{ref:"mobModal",attrs:{classes:"mob-modal"},on:{"close-modal":function(t){e.mobModal=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2"},[e._v("Внимание!")])]),s("div",{staticClass:"popup-body"},[s("p",[e._v("Подписание при помощи ЭЦП невозможно с мобильного устройства. Пожалуйста, перейдите на десктопную версию и установите необходимые программы:")]),s("div",{staticClass:"plugins-list"},[s("div",{staticClass:"plugins-list-item"},[e._v("1. Криптопровайдер: "),s("br"),s("a",{staticClass:"link",attrs:{href:"https://www.cryptopro.ru/products/cades/plugin",target:"_blank"}},[e._v("КриптоПро CSP")])]),s("div",{staticClass:"plugins-list-item"},[e._v("2. КриптоПро ЭЦП Browser plug-in: "),s("br"),s("a",{staticClass:"link",attrs:{href:"https://cryptopro.ru/products/cades/plugin/get_2_0",target:"_blank"}},[e._v("КриптоПро CSP Browser plug-in")])])])])]):e._e(),e.instructionPopup?s("Popup",{ref:"instructionPopup",attrs:{classes:"instruction-modal"},on:{"close-modal":function(t){e.instructionPopup=!1}}},[s("div",{staticClass:"popup-title"},[s("div",{staticClass:"h2"},[e._v("Инструкция по добавлению сертификата")])]),s("div",{staticClass:"popup-body"},[s("ol",[s("li",[e._v("Вставьте цифровой носитель электронной подписи")]),s("li",[e._v("Откройте программу КриптоПро CSP на компьютере")]),s("li",[e._v('Нажмите на вкладку "Сервис"')]),s("li",[e._v('В окне выберите пункт "Просмотреть сертификаты в контейнере"')]),s("li",[e._v('В открывшемся окне нажмите на кнопку "Обзор". Выберите контейнер и подтвердите свой выбор кнопкой ОК')]),s("li",[e._v('В открывшемся окне нажмите на кнопку "Установить". После этого согласитесь с предложением заменить сертификат')]),s("li",[e._v("Обновите страницу в браузере")])]),s("p",[e._v("С более подробной инструкцией вы можете ознакомиться по "),s("a",{staticClass:"link",attrs:{href:"https://cryptostore.ru/article/instruktsii/kak_ustanovit_sertifikat_podpisi_cherez_kriptopro_csp/",target:"_blank"}},[e._v("ссылке")])])])]):e._e()],1)},me=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-info-title"},[s("div",{staticClass:"h2"},[e._v("Подписание")]),s("p",[e._v("Ознакомьтесь со всеми приложенными документами, после чего вы сможете подписать их")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"next-step-text-info"},[e._v("Прочитайте и ознакомьтесь"),s("br"),e._v("со всеми документами")])}],be=(s("3ca3"),s("ddb0"),s("498a"),s("5319"),s("22e4")),ge=s("fb07"),Ce={name:"CreateOrderStep10",components:{FormGroupSwitchCheckbox:be["a"],Popup:b["a"],DocView:ce["a"]},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({order:function(e){return e.createOrder.orderFullInfo},visibleDocs:function(e){return e.createOrder.visibleDocs},invisibleDocs:function(e){return e.createOrder.invisibleDocs},company:function(e){return e.users.company}})),{},{canSigning:function(){var e=!0;return this.visibleDocs.length>0?(this.visibleDocs.forEach((function(t){t.files.forEach((function(t){!t.familiarized&&(e=!1)}))})),!this.openingCurrentAcc&&(e=!1),!this.openingPledgeAcc&&(e=!1)):e=!1,e}}),data:function(){return{viewDocumentModal:!1,viewDocument:{},signingModal:!1,successModal:!1,errorModal:!1,load:!1,signLoad:!1,openingCurrentAcc:!1,openingPledgeAcc:!1,diadocModal:!1,errorDiadocText:"",errorDiadocModal:!1,sertificates:[],sertificatesModal:!1,selectedSertificates:{},mobModal:!1,instructionPopup:!1}},methods:{setOrderStepMinus:function(){this.$store.dispatch("prevStep")},openDocViewModal:function(e){this.viewDocument=e,this.viewDocumentModal=!0},familiarizedDoc:function(){this.viewDocument.familiarized=!0},closeViewDocModal:function(){this.viewDocumentModal=!1},openSigningModal:function(){this.canSigning?this.signingModal=!0:alert("Прочитайте и ознакомьтесь со всеми документами")},closeSuccessModal:function(){this.successModal=!1,this.$router.push("/orders")},closeDiadocModal:function(){this.diadocModal=!1},closeSertificatesModal:function(){this.sertificatesModal=!1},parseDate:function(e){return C()(e).format("DD.MM.YYYY")},initDiadocScript:function(){var e=this;this.load||(this.load=!0,Object(ge["getSystemInfo"])().then((function(t){Object(ge["getUserCertificates"])().then((function(t){if(t.length>0){var s=[];e.sertificates=[],t.forEach((function(t){s.push(new Promise((function(s){t.isValid().then((function(){console.log(t),e.sertificates.push(t),s()}))})))})),Promise.all(s).then((function(){e.load=!1,e.$refs.signingModal.closePopup(),e.selectedSertificates=e.sertificates[0],e.sertificatesModal=!0,console.log(e.company.inn)}))}})).catch((function(t){switch(t){case"certificates_not_found":e.errorDiadocText="Не найдено ни одного сертификата.";break;case"valid_certificates_not_found":e.errorDiadocText="Не найдено ни одного валидного сертификата.";break;case"certificate_read_error":e.errorDiadocText="Ошибка чтения одного из сертификатов.";break}e.errorDiadocModal=!0}))})).catch((function(t){e.load=!1,e.diadocModal=!0,e.$refs.signingModal.closePopup()})))},readFile:function(e){return new Promise((function(t){var s=new FileReader;s.onload=function(){t(this.result)},s.readAsArrayBuffer(e)}))},generateSignature:function(e){var t,s=this,r=this.selectedSertificates;return new Promise((function(i,a){t=Object(ge["createAttachedSignature"])(r.thumbprint,e),t.then((function(e){i(e)}),(function(e){this.errorDiadocText=e.message,this.errorDiadocModal=!0,this.signLoad=!1,a()})).catch((function(e){s.errorDiadocText=e.message,s.errorDiadocModal=!0,s.signLoad=!1}))}))},createSignature:function(){var e=this,t=this.selectedSertificates.name.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"").toLowerCase().trim(),s=this.company.name.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"").toLowerCase().trim();if(t!==s)return this.errorDiadocText="Вы выбрали сертификат, который не принадлежит компании",this.errorDiadocModal=!0,!1;this.signLoad=!0;var r=this,i=[],a=[],o=[];this.visibleDocs.forEach((function(t,s){0!==t.files.length&&(a.push({id:t.id,docs:[]}),t.files.forEach((function(t){i.push(new Promise((function(i,o){e.$store.dispatch("getFile",t.id).then((function(n){var d=new File([n],t.name,{type:t.format}),l=e.readFile(d);l.then((function(e){Object(ge["createHash"])(e).then((function(){var o=this;r.generateSignature(e).then((function(e){a[s].docs.push({id:t.id,signature:e}),i()})).catch((function(){o.signLoad=!1}))}),(function(e){this.errorDiadocText=e.message,this.errorDiadocModal=!0,this.signLoad=!1,o()}))}))}))})))})))})),this.invisibleDocs.forEach((function(t,s){0!==t.files.length&&(o.push({id:t.id,docs:[]}),t.files.forEach((function(t){i.push(new Promise((function(i,a){e.$store.dispatch("getFile",t.id).then((function(n){var d=new File([n],t.name,{type:t.format}),l=e.readFile(d);l.then((function(e){Object(ge["createHash"])(e).then((function(){var a=this;r.generateSignature(e).then((function(e){o[s].docs.push({id:t.id,signature:e}),i()})).catch((function(){a.signLoad=!1}))}),(function(e){this.errorDiadocText=e.message,this.errorDiadocModal=!0,this.signLoad=!1,a()}))}))}))})))})))})),Promise.all(i).then((function(){var t=[];a.forEach((function(s){t.push(new Promise((function(t){e.$store.dispatch("sendSignature",s).then((function(e){e&&t()}))})))})),o.forEach((function(s){t.push(new Promise((function(t){e.$store.dispatch("sendSignature",s).then((function(e){e&&t()}))})))})),Promise.all(t).then((function(){e.$store.dispatch("orderResult",e.$route.params.id).then((function(t){t?(e.signLoad=!1,e.$refs.sertificatesModal.closePopup(),e.successModal=!0):e.signLoad=!1}))})).catch((function(){return e.signLoad=!1}))}))},downloadFile:function(e){var t=this;this.$store.dispatch("getFile",e.id).then((function(s){t.$store.dispatch("downloadFile",{content:s,name:e.name,format:e.format})}))}},mounted:function(){var e=this,t=this.$route.params.id;this.$emit("loading",!0),this.$store.dispatch("getDocsList",t).then((function(){e.$emit("loading",!1)})),this.$store.commit("setOrderId",t);var s=function(){window.innerWidth<1200&&(e.mobModal=!0)};s(),window.addEventListener("resize",s),this.$on("hook:beforeDestroy",(function(){return window.removeEventListener("resize",s)}))}},_e=Ce,ye=Object(p["a"])(_e,he,me,!1,null,null,null),$e=ye.exports,xe={name:"CreateOrder",components:{CreateOrderStep1:f,CreateOrderStep2:P,CreateOrderStep3:D,CreateOrderStep4:A,CreateOrderStep5:H,CreateOrderStep6:J,CreateOrderStep7:te,CreateOrderStep8:ne,CreateOrderStep9:fe,CreateOrderStep10:$e},data:function(){return{openSuccessModal:!1,saveAndNext:!1,stepLoaded:!1,loaded:!0}},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({orderStepPos:function(e){return e.createOrder.orderStep},currentOrder:function(e){return e.createOrder}})),{},{steplineWidth:function(){var e=0;return this.orderStepPos>1&&this.orderStepPos<9&&(e=100*(this.orderStepPos-1)/7),e}}),methods:{setLoading:function(e){this.loaded=!e},goToStep:function(e){this.$store.dispatch("updateStep",e)},parseDate:function(e){return C()(e).format("DD.MM.YYYY")},parseTime:function(e){var t=C()(e).locale("ru"),s=C()(new Date),r=t.format("DD MMMM");return r=s.day()===t.day()?"сегодня в ".concat(t.format("HH:mm")):t.format("DD.MM.YYYY в HH:mm"),r},nextGlobalStep:function(e){this.orderStepPos>e&&this.goToStep(e)}},mounted:function(){var e=this,t=this.$route.params.id;this.$store.commit("setOrderId",t),this.stepLoaded=!1,this.$store.dispatch("getCurrentOrder",t).then((function(t){e.stepLoaded=!0}))}},Pe=xe,Oe=Object(p["a"])(Pe,r,i,!1,null,null,null);t["default"]=Oe.exports},"5d75":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,a=(0,r.regex)("email",i);t.default=a},"5db3":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"minLength",min:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e}))};t.default=i},6235:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.regex)("alpha",/^[a-zA-Z]*$/);t.default=i},6417:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"not"},(function(t,s){return!(0,r.req)(t)||!e.call(this,t,s)}))};t.default=i},"772d":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,a=(0,r.regex)("url",i);t.default=a},"78ef":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return r.default}}),t.regex=t.ref=t.len=t.req=void 0;var r=i(s("8750"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var o=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===a(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=o;var n=function(e){return Array.isArray(e)?e.length:"object"===a(e)?Object.keys(e).length:String(e).length};t.len=n;var d=function(e,t,s){return"function"===typeof e?e.call(t,s):s[e]};t.ref=d;var l=function(e,t){return(0,r.default)({type:e},(function(e){return!o(e)||t.test(e)}))};t.regex=l},8750:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===Object({NODE_ENV:"production",BASE_URL:"/"}).BUILD?s("cb69").withParams:s("0234").withParams,i=r;t.default=i},"91d3":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},(function(t){if(!(0,r.req)(t))return!0;if("string"!==typeof t)return!1;var s="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==s&&(6===s.length||8===s.length)&&s.every(a)}))};t.default=i;var a=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},a15b:function(e,t,s){"use strict";var r=s("23e7"),i=s("44ad"),a=s("fc6a"),o=s("a640"),n=[].join,d=i!=Object,l=o("join",",");r({target:"Array",proto:!0,forced:d||!l},{join:function(e){return n.call(a(this),void 0===e?",":e)}})},aa82:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},(function(t,s){return!(0,r.ref)(e,this,s)||(0,r.req)(t)}))};t.default=i},b5ae:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return x.default}}),t.helpers=void 0;var r=M(s("6235")),i=M(s("3a54")),a=M(s("45b8")),o=M(s("ec11")),n=M(s("5d75")),d=M(s("c99d")),l=M(s("91d3")),c=M(s("2a12")),u=M(s("5db3")),p=M(s("d4f4")),v=M(s("aa82")),f=M(s("e652")),h=M(s("b6cb")),m=M(s("772d")),b=M(s("d294")),g=M(s("3360")),C=M(s("6417")),_=M(s("eb66")),y=M(s("46bc")),$=M(s("1331")),x=M(s("c301")),P=O(s("78ef"));function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,s):{};r.get||r.set?Object.defineProperty(t,s,r):t[s]=e[s]}return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}t.helpers=P},b6cb:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"sameAs",eq:e},(function(t,s){return t===(0,r.ref)(e,this,s)}))};t.default=i},c301:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=i},c99d:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.withParams)({type:"ipAddress"},(function(e){if(!(0,r.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(a)}));t.default=i;var a=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,s){"use strict";(function(e){function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=function(e,t){return"object"===s(e)&&void 0!==t?t:e((function(){}))},a=r.vuelidate?r.vuelidate.withParams:i;t.withParams=a}).call(this,s("c8ba"))},d294:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.withParams)({type:"or"},(function(){for(var e=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return t.length>0&&t.reduce((function(t,s){return t||s.apply(e,r)}),!1)}))};t.default=i},d4f4:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=(0,r.withParams)({type:"required"},(function(e){return"string"===typeof e?(0,r.req)(e.trim()):(0,r.req)(e)}));t.default=i},e652:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},(function(t,s){return!!(0,r.ref)(e,this,s)||(0,r.req)(t)}))};t.default=i},eb66:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e){return(0,r.withParams)({type:"minValue",min:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=i},ec11:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s("78ef"),i=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},(function(s){return!(0,r.req)(s)||(!/\s/.test(s)||s instanceof Date)&&+e<=+s&&+t>=+s}))};t.default=i}}]);
//# sourceMappingURL=chunk-22bd7c5a.e14f77e2.js.map